{"version":3,"file":"static/js/8103.1bb392f0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as i,shapes as c,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",v=\"text\",w=\"Aa\",g=i.size,b=i.maxSize,M=i.maxOutlineSize,k=i.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,o=null!=n?a(n):null,i=null!=t?.maxSize?a(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,M));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const t=e.style,n=Math.min(null!=o?o:a(e.size),i||b);switch(C=n,U=n,t){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*n},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},r&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),r&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=o?o:z,i||M),l=null!=e?e:k;u.width=n,C=l,U=n;const s=x?.stroke?.cap||\"butt\",c=\"round\"===s;j=!0,x.stroke.cap=\"butt\"===s?\"square\":s,x.shape={type:\"path\",path:[{command:\"M\",values:[c?n/2:0,U/2]},{command:\"L\",values:[c?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=e&&null!=a?a:null!=o?o:g,U=e&&null!=n?n:C,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case p:{let t=a(e.width),n=a(e.height);const l=null!=o?o:Math.max(t,n),s=t/n;t=s<=1?Math.ceil(l*s):l,n=s<=1?l:Math.ceil(l/s),C=Math.min(t,i||b),U=Math.min(n,i||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},r&&(E=!0);break}case v:{const t=e,n=t.text||w,l=t.font,s=Math.min(null!=o?o:a(l.size),i||b),c=L(n,{weight:l.weight,size:s,family:l.family}),r=/[\\uE600-\\uE6FF]/.test(n);C=r?s:c,U=s;let m=.25*S((l?s:0).toString());r&&(m+=5),x.shape={type:\"text\",text:n,x:t.xoffset||0,y:t.yoffset||m,align:\"middle\",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},x.font=l&&{size:s,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:r,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const o=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];o.unshift([{...n,offset:[-e,0],fill:r(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:r(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(o,l,s)}function D(t,a=x){const n=l(t),o=s(t),i=!n||\"type\"in n?null:new e(n),c=o?.color?new e(o?.color):null,r=i?E(u(i),a):null,m=c?E(u(c),a):null;return m?r?r===m?r:a>=x?\"light\":\"dark\":m:r}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n"],"names":["h","g","i","b","M","k","x","z","document","createElement","L","e","t","a","getContext","n","weight","push","size","family","font","join","measureText","width","S","length","parseFloat","slice","F","height","U","fill","color","type","o","src","toCss","E","Z","maxSize","r","rotation","angle","m","l","u","s","D","ignoreWhiteSymbols","shape","stroke","offset","Math","min","j","scale","C","style","cx","cy","path","command","values","cap","c","symbolConfig","isSquareFill","max","ceil","round","y","url","text","test","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","q","applyColorModulation","unshift"],"sourceRoot":""}