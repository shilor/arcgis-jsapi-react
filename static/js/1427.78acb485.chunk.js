"use strict";(self.webpackChunkarcgis_jsapi_react=self.webpackChunkarcgis_jsapi_react||[]).push([[1427],{11873:function(t,e,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(t,e){return new Float64Array(t,e,9)}n.d(e,{a:function(){return i},c:function(){return r}});Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,e,n,r,i,o,u,a,s){return[t,e,n,r,i,o,u,a,s]},createView:i},Symbol.toStringTag,{value:"Module"}))},81949:function(t,e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e){return new Float64Array(t,e,16)}n.d(e,{I:function(){return u},a:function(){return o},b:function(){return i},c:function(){return r}});var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:function(t,e,n,r,i,o,u,a,s,c,h,f,l,d,v,_){return[t,e,n,r,i,o,u,a,s,c,h,f,l,d,v,_]},createView:o,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},98131:function(t,e,n){function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,e){return new Float64Array(t,e,4)}n.d(e,{I:function(){return u},a:function(){return r},b:function(){return i},c:function(){return o}});var u=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:function(t,e,n,r){return[t,e,n,r]},createView:o,IDENTITY:u},Symbol.toStringTag,{value:"Module"}))},71417:function(t,e,n){n.d(e,{b:function(){return p},c:function(){return m},d:function(){return g},g:function(){return T},i:function(){return x},m:function(){return A}});n(93169);var r,i=n(32718),o=n(16889),u=n(92026),a=n(14226),s=n(11186),c=n(71353),h=n(90045),f=n(67077);!function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(r||(r={}));var l=n(40885),d=n(40927),v=n(11185),_=i.Z.getLogger("esri.geometry.support.sphere");function m(){return(0,f.c)()}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();return(0,h.c)(e,t)}function g(t){return t[3]}function T(t){return t}function y(t,e,n){if((0,u.Wi)(e))return!1;var r=e.origin,i=e.direction,o=b;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];var a=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),c=s*s-4*a*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(c<0)return!1;var h=Math.sqrt(c),f=(-s-h)/(2*a),l=(-s+h)/(2*a);return(f<0||l<f&&l>0)&&(f=l),!(f<0)&&(n&&(n[0]=r[0]+i[0]*f,n[1]=r[1]+i[1]*f,n[2]=r[2]+i[2]*f),!0)}var b=(0,c.c)();function x(t,e){return y(t,e,null)}function M(t,e,n){var r=v.WM.get(),i=v.MP.get();(0,s.f)(r,e.origin,e.direction);var o=g(t);(0,s.f)(n,r,e.origin),(0,s.g)(n,n,1/(0,s.l)(n)*o);var u=E(t,e.origin),c=(0,d.EU)(e.origin,n);return(0,a.d)(i,c+u,r),(0,s.m)(n,n,i),n}function O(t,e,n){var r=(0,s.b)(v.WM.get(),e,t),i=(0,s.g)(v.WM.get(),r,t[3]/(0,s.l)(r));return(0,s.a)(n,i,t)}function E(t,e){var n=(0,s.b)(v.WM.get(),e,t),r=(0,s.l)(n),i=g(t),u=i+Math.abs(i-r);return(0,o.ZF)(i/u)}var R=(0,c.c)();function k(t,e,n,i){var u=(0,s.b)(R,e,t);switch(n){case r.X:var a=(0,o.jE)(u,R)[2];return(0,s.s)(i,-Math.sin(a),Math.cos(a),0);case r.Y:var c=(0,o.jE)(u,R),h=c[1],f=c[2],l=Math.sin(h);return(0,s.s)(i,-l*Math.cos(f),-l*Math.sin(f),Math.cos(h));case r.Z:return(0,s.n)(i,u);default:return}}function N(t,e){var n=(0,s.b)(Z,e,t);return(0,s.l)(n)-t[3]}function A(t,e){var n=(0,s.d)(t,e),r=g(t);return n<=r*r}var Z=(0,c.c)(),P=m();Object.freeze(Object.defineProperty({__proto__:null,create:m,copy:p,fromCenterAndRadius:function(t,e){return(0,f.f)(t[0],t[1],t[2],e)},wrap:function(t){return t},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},getRadius:g,getCenter:T,fromValues:function(t,e,n,r){return(0,f.f)(t,e,n,r)},elevate:function(t,e,n){return t!==n&&(0,s.c)(n,t),n[3]=t[3]+e,n},setExtent:function(t,e,n){return _.error("sphere.setExtent is not yet supported"),t===n?n:p(t,n)},intersectRay:y,intersectsRay:x,intersectRayClosestSilhouette:function(t,e,n){if(y(t,e,n))return n;var r=M(t,e,v.WM.get());return(0,s.a)(n,e.origin,(0,s.g)(v.WM.get(),e.direction,(0,s.i)(e.origin,r)/(0,s.l)(e.direction))),n},closestPointOnSilhouette:M,closestPoint:function(t,e,n){return y(t,e,n)?n:((0,l.JI)(e,t,n),O(t,n,n))},projectPoint:O,distanceToSilhouette:function(t,e){var n=(0,s.b)(v.WM.get(),e,t),r=(0,s.p)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},angleToSilhouette:E,axisAt:k,altitudeAt:N,setAltitudeAt:function(t,e,n,i){var o=N(t,e),u=k(t,e,r.Z,Z),a=(0,s.g)(Z,u,n-o);return(0,s.a)(i,e,a)},containsPoint:A,tmpSphere:P},Symbol.toStringTag,{value:"Module"}))},21530:function(t,e,n){n.d(e,{x:function(){return u}});var r=n(15671),i=n(43144),o=n(70758),u=function(){function t(e){(0,r.Z)(this,t),this.allocator=e,this._items=[],this._itemsPtr=0,this._grow()}return(0,i.Z)(t,[{key:"get",value:function(){var t=this;return 0===this._itemsPtr&&(0,o.Y)((function(){return t._reset()})),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}},{key:"_reset",value:function(){var t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*a);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}},{key:"_grow",value:function(){for(var t=0;t<Math.max(8,Math.min(this._items.length,a));t++)this._items.push(this.allocator())}}]),t}(),a=1024},40237:function(t,e,n){n.d(e,{N:function(){return o}});var r=n(43144),i=n(15671),o={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){var r=new u(t.getPointX(e),t.getPointY(e),n),i=t.hasZ(e),o=t.hasM(e);return i&&(r.z=t.getPointZ(e)),o&&(r.m=t.getPointM(e)),r},exportPolygon:function(t,e,n){return new a(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new s(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new c(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){var r=t.hasZ(e),i=t.hasM(e),o=new h(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(r){var u=t.getZExtent(e);o.zmin=u.vmin,o.zmax=u.vmax}if(i){var a=t.getMExtent(e);o.mmin=a.vmin,o.mmax=a.vmax}return o}};var u=(0,r.Z)((function t(e,n,r){(0,i.Z)(this,t),this.x=e,this.y=n,this.spatialReference=r,this.z=void 0,this.m=void 0}));var a=(0,r.Z)((function t(e,n,r,o){(0,i.Z)(this,t),this.rings=e,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),o&&(this.hasM=o)}));var s=(0,r.Z)((function t(e,n,r,o){(0,i.Z)(this,t),this.paths=e,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),o&&(this.hasM=o)}));var c=(0,r.Z)((function t(e,n,r,o){(0,i.Z)(this,t),this.points=e,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),o&&(this.hasM=o)}));var h=(0,r.Z)((function t(e,n,r,o,u){(0,i.Z)(this,t),this.xmin=e,this.ymin=n,this.xmax=r,this.ymax=o,this.spatialReference=u,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}))},85981:function(t,e,n){n.d(e,{Ue:function(){return s},nF:function(){return h},zk:function(){return c}});var r=n(16889),i=n(21530),o=n(11186),u=n(71353),a=n(11185);function s(t){return t?{origin:(0,u.a)(t.origin),vector:(0,u.a)(t.vector)}:{origin:(0,u.c)(),vector:(0,u.c)()}}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,o.c)(n.origin,t),(0,o.b)(n.vector,e,t),n}function h(t,e,n){return function(t,e,n,i,u){var s=t.vector,c=t.origin,h=(0,o.b)(a.WM.get(),e,c),f=(0,o.e)(s,h)/(0,o.p)(s);return(0,o.g)(u,s,(0,r.uZ)(f,n,i)),(0,o.a)(u,u,t.origin)}(t,e,0,1,n)}(0,u.c)(),(0,u.c)(),new i.x((function(){return{origin:null,vector:null}}))},58971:function(t,e,n){n.d(e,{G6:function(){return E},Ie:function(){return O},J9:function(){return x},RF:function(){return g},U1:function(){return M},vY:function(){return c},ym:function(){return b}});var r=n(29439),i=n(92026),o=n(77981);var u=function(t,e,n){return[e,n]},a=function(t,e,n){return[e,n,t[2]]},s=function(t,e,n){return[e,n,t[2],t[3]]};function c(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:(0,i.pC)(t.extent)?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function h(t,e){var n=t.scale,r=t.translate;return Math.round((e-r[0])/n[0])}function f(t,e){var n=t.scale,r=t.translate;return Math.round((r[1]-e)/n[1])}function l(t,e,n){for(var r,i,o,u,a=[],s=0;s<n.length;s++){var c=n[s];s>0?(o=h(t,c[0]),u=f(t,c[1]),o===r&&u===i||(a.push(e(c,o-r,u-i)),r=o,i=u)):(r=h(t,c[0]),i=f(t,c[1]),a.push(e(c,r,i)))}return a.length>0?a:null}function d(t,e){var n=t.scale,r=t.translate;return e*n[0]+r[0]}function v(t,e){var n=t.scale;return t.translate[1]-e*n[1]}function _(t,e,n){var i=new Array(n.length);if(!n.length)return i;var o=(0,r.Z)(t.scale,2),u=o[0],a=o[1],s=d(t,n[0][0]),c=v(t,n[0][1]);i[0]=e(n[0],s,c);for(var h=1;h<n.length;h++){var f=n[h];s+=f[0]*u,c-=f[1]*a,i[h]=e(f,s,c)}return i}function m(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=_(t,e,n[i]);return r}function p(t,e,n,r,i){return e.points=function(t,e,n,r){return l(t,n?r?s:a:r?a:u,e)}(t,n.points,r,i),e}function g(t,e,n,r,i){return e.x=h(t,n.x),e.y=f(t,n.y),e!==n&&(r&&(e.z=n.z),i&&(e.m=n.m)),e}function T(t,e,n,r,i){var o=function(t,e,n,r){for(var i=[],o=n?r?s:a:r?a:u,c=0;c<e.length;c++){var h=l(t,o,e[c]);h&&h.length>=3&&i.push(h)}return i.length?i:null}(t,n.rings,r,i);return o?(e.rings=o,e):null}function y(t,e,n,r,i){var o=function(t,e,n,r){for(var i=[],o=n?r?s:a:r?a:u,c=0;c<e.length;c++){var h=l(t,o,e[c]);h&&h.length>=2&&i.push(h)}return i.length?i:null}(t,n.paths,r,i);return o?(e.paths=o,e):null}function b(t,e){return t&&e?(0,o.wp)(e)?g(t,{},e,!1,!1):(0,o.l9)(e)?y(t,{},e,!1,!1):(0,o.oU)(e)?T(t,{},e,!1,!1):(0,o.aW)(e)?p(t,{},e,!1,!1):(0,o.YX)(e)?function(t,e,n,r,i){return e.xmin=h(t,n.xmin),e.ymin=f(t,n.ymin),e.xmax=h(t,n.xmax),e.ymax=f(t,n.ymax),e!==n&&(r&&(e.zmin=n.zmin,e.zmax=n.zmax),i&&(e.mmin=n.mmin,e.mmax=n.mmax)),e}(t,{},e,!1,!1):null:null}function x(t,e,n,r,o){return(0,i.pC)(n)&&(e.points=function(t,e,n,r){return _(t,n?r?s:a:r?a:u,e)}(t,n.points,r,o)),e}function M(t,e,n,r,o){return(0,i.Wi)(n)||(e.x=d(t,n.x),e.y=v(t,n.y),e!==n&&(r&&(e.z=n.z),o&&(e.m=n.m))),e}function O(t,e,n,r,o){return(0,i.pC)(n)&&(e.rings=function(t,e,n,r){return m(t,n?r?s:a:r?a:u,e)}(t,n.rings,r,o)),e}function E(t,e,n,r,o){return(0,i.pC)(n)&&(e.paths=function(t,e,n,r){return m(t,n?r?s:a:r?a:u,e)}(t,n.paths,r,o)),e}},40885:function(t,e,n){n.d(e,{JI:function(){return s},Ue:function(){return u},re:function(){return a}});n(63780);var r=n(21530),i=n(11186),o=n(71353);n(11185);function u(t){return t?{origin:(0,o.a)(t.origin),direction:(0,o.a)(t.direction)}:{origin:(0,o.c)(),direction:(0,o.c)()}}function a(t,e){var n=c.get();return n.origin=t,n.direction=e,n}function s(t,e,n){var r=(0,i.e)(t.direction,(0,i.b)(n,e,t.origin));return(0,i.a)(n,t.origin,(0,i.g)(n,t.direction,r)),n}var c=new r.x((function(){return{origin:null,direction:null}}))},40927:function(t,e,n){n.d(e,{EU:function(){return u}});var r=n(16889),i=n(11186),o=n(71353);function u(t,e){var n=(0,i.e)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,r.ZF)(n)}(0,o.c)(),(0,o.c)()},11185:function(t,e,n){n.d(e,{MP:function(){return m},WM:function(){return _}});var r=n(15671),i=n(43144),o=n(59896),u=n(70758),a=n(11873),s=n(81949),c=n(98131),h=n(6394),f=n(71353),l=n(67077),d=function(){function t(e,n,i){(0,r.Z)(this,t),this.itemByteSize=e,this.itemCreate=n,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(i/this.itemByteSize)}return(0,i.Z)(t,[{key:"get",value:function(){var t=this;0===this._itemsPtr&&(0,u.Y)((function(){return t._reset()}));for(var e=Math.floor(this._itemsPtr/this._itemsPerBuffer);this._buffers.length<=e;){for(var n=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize),r=0;r<this._itemsPerBuffer;++r)this._items.push(this.itemCreate(n,r*this.itemByteSize));this._buffers.push(n)}return this._items[this._itemsPtr++]}},{key:"_reset",value:function(){for(var t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}},{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}],[{key:"createVec2f64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(16,h.c,e)}},{key:"createVec3f64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(24,f.b,e)}},{key:"createVec4f64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(32,l.a,e)}},{key:"createMat3f64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(72,a.a,e)}},{key:"createMat4f64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(128,s.a,e)}},{key:"createQuatf64",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new t(32,c.c,e)}}]),t}(),v=4*o.Y8.KILOBYTES,_=(d.createVec2f64(),d.createVec3f64()),m=(d.createVec4f64(),d.createMat3f64(),d.createMat4f64());d.createQuatf64()},19995:function(t,e,n){n.d(e,{_W:function(){return g},iV:function(){return x},oj:function(){return E}});var r=n(74165),i=n(15671),o=n(43144),u=n(15861),a=n(37762),s=n(29439),c=n(92026),h=n(52587),f=n(40237),l=n(92975),d=n(81753),v=[0,0];function _(t,e){if(!e)return null;if("x"in e){var n,r,i={x:0,y:0};return n=t(e.x,e.y,v),r=(0,s.Z)(n,2),i.x=r[0],i.y=r[1],null!=e.z&&(i.z=e.z),null!=e.m&&(i.m=e.m),i}if("xmin"in e){var o,u,a,c,h={xmin:0,ymin:0,xmax:0,ymax:0};return o=t(e.xmin,e.ymin,v),u=(0,s.Z)(o,2),h.xmin=u[0],h.ymin=u[1],a=t(e.xmax,e.ymax,v),c=(0,s.Z)(a,2),h.xmax=c[0],h.ymax=c[1],e.hasZ&&(h.zmin=e.zmin,h.zmax=e.zmax,h.hasZ=!0),e.hasM&&(h.mmin=e.mmin,h.mmax=e.mmax,h.hasM=!0),h}return"rings"in e?{rings:m(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:m(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:p(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:void 0}function m(t,e){var n,r=[],i=(0,a.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(p(o,e))}}catch(u){i.e(u)}finally{i.f()}return r}function p(t,e){var n,r=[],i=(0,a.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=e(o[0],o[1],[0,0]);r.push(u),o.length>2&&u.push(o[2]),o.length>3&&u.push(o[3])}}catch(s){i.e(s)}finally{i.f()}return r}function g(t,e){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)((0,r.Z)().mark((function t(e,n){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return i=Array.isArray(e)?e.map((function(t){return(0,c.pC)(t.geometry)&&t.geometry.spatialReference})):[e],t.next=5,(0,h.iQ)(i.map((function(t){return{source:t,dest:n}})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=_.bind(null,d.hG),b=_.bind(null,d.R6);function x(t,e,n,r){if(!t)return t;if(n||(n=e,e=t.spatialReference),!(0,l.JY)(e)||!(0,l.JY)(n)||(0,l.fS)(e,n))return t;if((0,d.Q8)(e,n)){var i=(0,l.sS)(n)?y(t):b(t);return i.spatialReference=n,i}return(0,h.oj)(f.N,[t],e,n,null,r)[0]}var M=function(){function t(){(0,i.Z)(this,t),this._jobs=[],this._timer=null,this._process=this._process.bind(this)}return(0,o.Z)(t,[{key:"push",value:function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e,n,i){var o,u=this;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.length&&n&&i&&!(0,l.fS)(n,i)){t.next=2;break}return t.abrupt("return",e);case 2:return o={geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:null},t.abrupt("return",(this._jobs.push(o),new Promise((function(t){o.resolve=t,null===u._timer&&(u._timer=setTimeout(u._process,10))}))));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_process",value:function(){this._timer=null;var t=this._jobs.shift();if(t){var e=t.geometries,n=t.inSpatialReference,r=t.outSpatialReference,i=t.resolve;(0,d.Q8)(n,r)?(0,l.sS)(r)?i(e.map(y)):i(e.map(b)):i((0,h.oj)(f.N,e,n,r,null,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}}]),t}(),O=new M;function E(t,e,n){return O.push(t,e,n)}},97731:function(t,e,n){n.d(e,{hu:function(){return u},yK:function(){return a}});var r=n(15671),i=n(43144),o=(n(6394),n(90045),(0,n(67077).c)(),function(){function t(e){(0,r.Z)(this,t),this.message=e}return(0,i.Z)(t,[{key:"toString",value:function(){return"AssertException: ".concat(this.message)}}]),t}());function u(t,e){if(!t)throw e=e||"assert",console.log(new Error(e).stack),new o(e)}function a(t,e,n,r){var i,o=(n[0]-t[0])/e[0],u=(r[0]-t[0])/e[0];o>u&&(i=o,o=u,u=i);var a=(n[1]-t[1])/e[1],s=(r[1]-t[1])/e[1];if(a>s&&(i=a,a=s,s=i),o>s||a>u)return!1;a>o&&(o=a),s<u&&(u=s);var c=(n[2]-t[2])/e[2],h=(r[2]-t[2])/e[2];return c>h&&(i=c,c=h,h=i),!(o>h||c>u)&&(h<u&&(u=h),!(u<0))}},74837:function(t,e,n){n.r(e),n.d(e,{SceneLayerSnappingSourceWorker:function(){return it},default:function(){return ot}});var r=n(37762),i=n(74165),o=n(15861),u=n(15671),a=n(43144),s=n(27366),c=n(92026),h=n(66978),f=(n(32718),n(25243),n(63780),n(93169),n(75366),n(69912)),l=n(11186),d=n(71353),v=n(85981),_=n(71417),m=n(92536),p=n(13005),g=n(27546),T=n(21530),y=(n(14226),n(90045),n(67077)),b=n(40885);n(11185);function x(t){return t?{ray:(0,b.Ue)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,b.Ue)(),c0:0,c1:Number.MAX_VALUE}}new T.x((function(){return{c0:0,c1:0,ray:null}})),n(16889),n(40927);(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)();(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)();var M;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(M||(M={}));var O,E;M.INFINITE_MIN,M.INFINITE_MAX,M.INFINITE_MAX;function R(t,e){for(var n=0;n<k.NUM;n++){var r=t[n];if(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]>=e[3])return!1}return!0}!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.TOP=3]="TOP",t[t.NEAR=4]="NEAR",t[t.FAR=5]="FAR"}(O||(O={})),function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(E||(E={}));var k,N;E.FAR_BOTTOM_RIGHT,E.NEAR_BOTTOM_RIGHT,E.NEAR_BOTTOM_LEFT,E.FAR_BOTTOM_LEFT,E.NEAR_BOTTOM_LEFT,E.NEAR_BOTTOM_RIGHT,E.NEAR_TOP_RIGHT,E.NEAR_TOP_LEFT,E.FAR_BOTTOM_RIGHT,E.FAR_BOTTOM_LEFT,E.FAR_TOP_LEFT,E.FAR_TOP_RIGHT,E.NEAR_BOTTOM_RIGHT,E.FAR_BOTTOM_RIGHT,E.FAR_TOP_RIGHT,E.NEAR_TOP_RIGHT,E.FAR_BOTTOM_LEFT,E.NEAR_BOTTOM_LEFT,E.NEAR_TOP_LEFT,E.FAR_TOP_LEFT,E.FAR_TOP_LEFT,E.NEAR_TOP_LEFT,E.NEAR_TOP_RIGHT,E.FAR_TOP_RIGHT;!function(t){t[t.NUM=6]="NUM"}(k||(k={})),function(t){t[t.NUM=8]="NUM"}(N||(N={}));(0,y.f)(-1,-1,-1,1),(0,y.f)(1,-1,-1,1),(0,y.f)(1,1,-1,1),(0,y.f)(-1,1,-1,1),(0,y.f)(-1,-1,1,1),(0,y.f)(1,-1,1,1),(0,y.f)(1,1,1,1),(0,y.f)(-1,1,1,1),new T.x(x),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)(),(0,d.c)();var A=n(97731),Z=function(){function t(e,n){(0,u.Z)(this,t),this._objectToBoundingSphere=e,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new P,this._objectCount=0,n&&(void 0!==n.maximumObjectsPerNode&&(this._maximumObjectsPerNode=n.maximumObjectsPerNode),void 0!==n.maximumDepth&&(this._maximumDepth=n.maximumDepth))}return(0,a.Z)(t,[{key:"bounds",get:function(){return this._root.bounds}},{key:"halfSize",get:function(){return this._root.halfSize}},{key:"root",get:function(){return this._root.node}},{key:"maximumObjectsPerNode",get:function(){return this._maximumObjectsPerNode}},{key:"maximumDepth",get:function(){return this._maximumDepth}},{key:"objectCount",get:function(){return this._objectCount}},{key:"destroy",value:function(){this._degenerateObjects.clear(),P.clearPool(),V[0]=null,q.prune(),tt.prune()}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;this._objectCount+=e,this._grow(t,e);for(var n=P.acquire(),r=0;r<e;r++){var i=t[r];this._isDegenerate(i)?this._degenerateObjects.add(i):(n.init(this._root),this._add(i,n))}P.release(n)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._objectCount-=t.length;var n,i=P.acquire(),o=(0,r.Z)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value,a=(0,c.pC)(e)?e:(0,_.b)(this._objectToBoundingSphere(u),X);L(a[3])?(i.init(this._root),this._remove(u,a,i)):this._degenerateObjects.delete(u)}}catch(s){o.e(s)}finally{o.f()}P.release(i),this._shrink()}},{key:"update",value:function(t,e){if(L(e[3])||!this._isDegenerate(t)){var n=function(t){return V[0]=t,V}(t);this.remove(n,e),this.add(n)}}},{key:"forEachAlongRay",value:function(t,e,n){var r=this,i=(0,b.re)(t,e);this._forEachNode(this._root,(function(t){if(!r._intersectsNode(i,t))return!1;var e=t.node;return e.terminals.forAll((function(t){r._intersectsObject(i,t)&&n(t)})),null!==e.residents&&e.residents.forAll((function(t){r._intersectsObject(i,t)&&n(t)})),!0}))}},{key:"forEachAlongRayWithVerticalOffset",value:function(t,e,n,r){var i=this,o=(0,b.re)(t,e);this._forEachNode(this._root,(function(t){if(!i._intersectsNodeWithOffset(o,t,r))return!1;var e=t.node;return e.terminals.forAll((function(t){i._intersectsObjectWithOffset(o,t,r)&&n(t)})),null!==e.residents&&e.residents.forAll((function(t){i._intersectsObjectWithOffset(o,t,r)&&n(t)})),!0}))}},{key:"forEach",value:function(t){this._forEachNode(this._root,(function(e){var n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0})),this._degenerateObjects.forEach(t)}},{key:"forEachDegenerateObject",value:function(t){this._degenerateObjects.forEach(t)}},{key:"findClosest",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,u=1/0,a=1/0,s=null,c=z(t,e),h=function(c){if(--o,i(c)){var h=r._objectToBoundingSphere(c);if(R(n,h)){var f=B(t,e,(0,_.g)(h)),l=f-h[3],d=f+h[3];l<u&&(u=l,a=d,s=c)}}};return this._forEachNodeDepthOrdered(this._root,(function(r){if(o<=0||!R(n,r.bounds))return!1;if((0,l.g)(H,c,r.halfSize),(0,l.a)(H,H,r.bounds),B(t,e,H)>a)return!1;var i=r.node;return i.terminals.forAll((function(t){return h(t)})),null!==i.residents&&i.residents.forAll((function(t){return h(t)})),!0}),t,e),s}},{key:"forEachInDepthRange",value:function(e,n,r,i,o,u,a){var s=this,c=-1/0,h=1/0,f={setRange:function(e){r===t.DepthOrder.FRONT_TO_BACK?(c=Math.max(c,e.near),h=Math.min(h,e.far)):(c=Math.max(c,-e.far),h=Math.min(h,-e.near))}};f.setRange(i);var d=B(n,r,e),v=z(n,r),m=z(n,-r),p=function(t){if(a(t)){var e=s._objectToBoundingSphere(t),i=(0,_.g)(e),l=B(n,r,i)-d,v=l-e[3],m=l+e[3];v>h||m<c||!R(u,e)||o(t,f)}};this._forEachNodeDepthOrdered(this._root,(function(t){if(!R(u,t.bounds))return!1;if((0,l.g)(H,v,t.halfSize),(0,l.a)(H,H,t.bounds),B(n,r,H)-d>h)return!1;if((0,l.g)(H,m,t.halfSize),(0,l.a)(H,H,t.bounds),B(n,r,H)-d<c)return!1;var e=t.node;return e.terminals.forAll((function(t){return p(t)})),null!==e.residents&&e.residents.forAll((function(t){return p(t)})),!0}),n,r)}},{key:"forEachNode",value:function(t){this._forEachNode(this._root,(function(e){return t(e.node,e.bounds,e.halfSize)}))}},{key:"forEachNeighbor",value:function(t,e){var n=this,r=(0,_.d)(e),i=(0,_.g)(e),o=function(e){var o=n._objectToBoundingSphere(e),u=(0,_.d)(o),a=r+u;(0,l.d)((0,_.g)(o),i)-a*a<=0&&t(e)};this._forEachNode(this._root,(function(t){var e=(0,_.d)(t.bounds),n=r+e;if((0,l.d)((0,_.g)(t.bounds),i)-n*n>0)return!1;var u=t.node;return u.terminals.forAll((function(t){return o(t)})),null!==u.residents&&u.residents.forAll((function(t){return o(t)})),!0})),this.forEachDegenerateObject(o)}},{key:"_intersectsNode",value:function(t,e){return w(e.bounds,2*-e.halfSize,U),w(e.bounds,2*e.halfSize,Y),(0,A.yK)(t.origin,t.direction,U,Y)}},{key:"_intersectsNodeWithOffset",value:function(t,e,n){return w(e.bounds,2*-e.halfSize,U),w(e.bounds,2*e.halfSize,Y),n.applyToMinMax(U,Y),(0,A.yK)(t.origin,t.direction,U,Y)}},{key:"_intersectsObject",value:function(t,e){var n=this._objectToBoundingSphere(e);return!(n[3]>0)||(0,_.i)(n,t)}},{key:"_intersectsObjectWithOffset",value:function(t,e,n){var r=this._objectToBoundingSphere(e);return!(r[3]>0)||(0,_.i)(n.applyToBoundingSphere(r),t)}},{key:"_forEachNode",value:function(t,e){for(var n=P.acquire().init(t),r=[n];0!==r.length;){if(e(n=r.pop())&&!n.isLeaf())for(var i=0;i<n.node.children.length;i++)n.node.children[i]&&r.push(P.acquire().init(n).advance(i));P.release(n)}}},{key:"_forEachNodeDepthOrdered",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DepthOrder.FRONT_TO_BACK,o=P.acquire().init(e),u=[o];for(j(r,i,et);0!==u.length;){if(n(o=u.pop())&&!o.isLeaf())for(var a=7;a>=0;--a){var s=et[a];o.node.children[s]&&u.push(P.acquire().init(o).advance(s))}P.release(o)}}},{key:"_remove",value:function(t,e,n){q.clear();var r=n.advanceTo(e,(function(t,e){q.push(t.node),q.push(e)}))?n.node.terminals:n.node.residents;if(r.removeUnordered(t),0===r.length)for(var i=q.length-2;i>=0;i-=2){var o=q.data[i],u=q.data[i+1];if(!this._purge(o,u))break}}},{key:"_nodeIsEmpty",value:function(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(var e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}},{key:"_purge",value:function(t,e){return e>=0&&(t.children[e]=null),!!this._nodeIsEmpty(t)&&(null===t.residents&&(t.residents=new g.Z({shrink:!0})),!0)}},{key:"_add",value:function(t,e){e.advanceTo(this._objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}},{key:"_split",value:function(t){var e=t.node.residents;t.node.residents=null;for(var n=0;n<e.length;n++){var r=P.acquire().init(t);this._add(e.getItemAt(n),r),P.release(r)}}},{key:"_grow",value:function(t,e){var n=this;if(0!==e&&(I(t,e,(function(t){return n._objectToBoundingSphere(t)}),K),L(K[3])&&!this._fitsInsideTree(K)))if(this._nodeIsEmpty(this._root.node))(0,_.b)(K,this._root.bounds),this._root.halfSize=1.25*K[3];else{var r=this._rootBoundsForRootAsSubNode(K);this._placingRootViolatesMaxDepth(r)?this._rebuildTree(K,r):this._growRootAsSubNode(r),P.release(r)}}},{key:"_rebuildTree",value:function(t,e){var n=this;(0,l.c)(J,e.bounds),J[3]=e.halfSize,I([t,J],2,(function(t){return t}),Q);var r=P.acquire().init(this._root);this._root.initFrom(null,Q,1.25*Q[3]),this._forEachNode(r,(function(t){return n.add(t.node.terminals.data,t.node.terminals.length),null!==t.node.residents&&n.add(t.node.residents.data,t.node.residents.length),!0})),P.release(r)}},{key:"_placingRootViolatesMaxDepth",value:function(t){var e=this,n=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E,r=0;return this._forEachNode(this._root,(function(t){return(r=Math.max(r,t.depth))+n<=e._maximumDepth})),r+n>this._maximumDepth}},{key:"_rootBoundsForRootAsSubNode",value:function(t){for(var e=t[3],n=t,r=-1/0,i=this._root.bounds,o=this._root.halfSize,u=0;u<3;u++){var a=i[u]-o-(n[u]-e),s=n[u]+e-(i[u]+o),c=Math.max(0,Math.ceil(a/(2*o))),h=Math.max(0,Math.ceil(s/(2*o)))+1,f=Math.pow(2,Math.ceil(Math.log(c+h)*Math.LOG2E));r=Math.max(r,f),$[u].min=c,$[u].max=h}for(var l=0;l<3;l++){var d=$[l].min,v=$[l].max,_=(r-(d+v))/2;d+=Math.ceil(_),v+=Math.floor(_);var m=i[l]-o-d*o*2;W[l]=m+(v+d)*o}return W[3]=r*o*D,P.acquire().initFrom(null,W,r*o,0)}},{key:"_growRootAsSubNode",value:function(t){var e=this._root.node;(0,l.c)(K,this._root.bounds),K[3]=this._root.halfSize,this._root.init(t),t.advanceTo(K,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}},{key:"_shrink",value:function(){for(;;){var t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}},{key:"_findShrinkIndex",value:function(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;for(var t=null,e=this._root.node.children,n=0,r=0;r<e.length&&null==t;)t=e[n=r++];for(;r<e.length;)if(e[r++])return-1;return n}},{key:"_isDegenerate",value:function(t){return!L(this._objectToBoundingSphere(t)[3])}},{key:"_fitsInsideTree",value:function(t){var e=this._root.bounds,n=this._root.halfSize;return t[3]<=n&&t[0]>=e[0]-n&&t[0]<=e[0]+n&&t[1]>=e[1]-n&&t[1]<=e[1]+n&&t[2]>=e[2]-n&&t[2]<=e[2]+n}}]),t}(),P=function(){function t(){(0,u.Z)(this,t),this.bounds=(0,_.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}return(0,a.Z)(t,[{key:"init",value:function(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}},{key:"initFrom",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.depth;return this.node=(0,c.pC)(e)?e:t.createEmptyNode(),(0,c.pC)(n)&&(0,_.b)(n,this.bounds),this.halfSize=r,this.depth=i,this}},{key:"advance",value:function(e){var n=this.node.children[e];n||(n=t.createEmptyNode(),this.node.children[e]=n),this.node=n,this.halfSize/=2,this.depth++;var r=C[e];return this.bounds[0]+=r[0]*this.halfSize,this.bounds[1]+=r[1]*this.halfSize,this.bounds[2]+=r[2]*this.halfSize,this.bounds[3]=this.halfSize*D,this}},{key:"advanceTo",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];;){if(this.isTerminalFor(t))return e&&e(this,-1),!0;if(this.isLeaf()){if(!n)return e&&e(this,-1),!1;this.node.residents=null}var r=this._childIndex(t);e&&e(this,r),this.advance(r)}}},{key:"isLeaf",value:function(){return null!=this.node.residents}},{key:"isTerminalFor",value:function(t){return t[3]>this.halfSize/2}},{key:"_childIndex",value:function(t){var e=this.bounds;return(e[0]<t[0]?1:0)+(e[1]<t[1]?2:0)+(e[2]<t[2]?4:0)}}],[{key:"createEmptyNode",value:function(){return{children:[null,null,null,null,null,null,null,null],terminals:new g.Z({shrink:!0}),residents:new g.Z({shrink:!0})}}},{key:"acquire",value:function(){return t._pool.acquire()}},{key:"release",value:function(e){t._pool.release(e)}},{key:"clearPool",value:function(){t._pool.prune()}}]),t}();function S(t,e){t[0]=Math.min(t[0],e[0]-e[3]),t[1]=Math.min(t[1],e[1]-e[3]),t[2]=Math.min(t[2],e[2]-e[3])}function F(t,e){t[0]=Math.max(t[0],e[0]+e[3]),t[1]=Math.max(t[1],e[1]+e[3]),t[2]=Math.max(t[2],e[2]+e[3])}function w(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function I(t,e,n,r){if(1===e){var i=n(t[0]);(0,_.b)(i,r)}else{U[0]=1/0,U[1]=1/0,U[2]=1/0,Y[0]=-1/0,Y[1]=-1/0,Y[2]=-1/0;for(var o=0;o<e;o++){var u=n(t[o]);L(u[3])&&(S(U,u),F(Y,u))}(0,l.h)(r,U,Y,.5),r[3]=Math.max(Y[0]-U[0],Y[1]-U[1],Y[2]-U[2])/2}}function j(t,e,n){if(!tt.length)for(var r=0;r<8;++r)tt.push({index:0,distance:0});for(var i=0;i<8;++i){var o=C[i];tt.data[i].index=i,tt.data[i].distance=B(t,e,o)}tt.sort((function(t,e){return t.distance-e.distance}));for(var u=0;u<8;++u)n[u]=tt.data[u].index}function z(t,e){for(var n=1/0,r=null,i=0;i<8;++i){var o=B(t,e,G[i]);o<n&&(n=o,r=G[i])}return r}function B(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function L(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}P._pool=new p.Z(P),function(t){var e;(e=t.DepthOrder||(t.DepthOrder={}))[e.FRONT_TO_BACK=1]="FRONT_TO_BACK",e[e.BACK_TO_FRONT=-1]="BACK_TO_FRONT"}(Z||(Z={}));var C=[(0,d.f)(-1,-1,-1),(0,d.f)(1,-1,-1),(0,d.f)(-1,1,-1),(0,d.f)(1,1,-1),(0,d.f)(-1,-1,1),(0,d.f)(1,-1,1),(0,d.f)(-1,1,1),(0,d.f)(1,1,1)],G=[(0,d.f)(-1,-1,-1),(0,d.f)(-1,-1,1),(0,d.f)(-1,1,-1),(0,d.f)(-1,1,1),(0,d.f)(1,-1,-1),(0,d.f)(1,-1,1),(0,d.f)(1,1,-1),(0,d.f)(1,1,1)],D=Math.sqrt(3),V=[null];var W=(0,_.c)(),H=(0,d.c)(),U=(0,d.c)(),Y=(0,d.c)(),q=new g.Z,X=(0,_.c)(),K=(0,_.c)(),J=(0,_.c)(),Q=(0,_.c)(),$=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],tt=new g.Z,et=[0,0,0,0,0,0,0,0],nt=Z,rt=n(33723),it=function(){function t(){(0,u.Z)(this,t),this._idToComponent=new Map,this._components=new nt((function(t){return t.bounds})),this._edges=new nt((function(t){return t.bounds})),this._tmpLineSegment=(0,v.Ue)(),this._tmpP1=(0,d.c)(),this._tmpP2=(0,d.c)(),this._tmpP3=(0,d.c)(),this.remoteClient=null}return(0,a.Z)(t,[{key:"fetchCandidates",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n){var r,o=this;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve();case 2:return(0,h.k_)(n),t.next=5,this._ensureEdgeLocations(e,n);case 5:return r=[],t.abrupt("return",(this._edges.forEachNeighbor((function(t){return o._addCandidates(e,t,r)}),e.bounds),{result:{candidates:r}}));case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_ensureEdgeLocations",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n){var o,u,a,s,h,f;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],this._components.forEachNeighbor((function(t){if((0,c.Wi)(t.info)){var e=t.id,n=t.uid;o.push({id:e,uid:n})}}),e.bounds),o.length){t.next=3;break}return t.abrupt("return");case 3:return u={components:o},t.next=6,this.remoteClient.invoke("fetchAllEdgeLocations",u,(0,c.Pt)(n,{}));case 6:a=t.sent,s=(0,r.Z)(a.components);try{for(s.s();!(h=s.n()).done;)f=h.value,this._setFetchEdgeLocations(f)}catch(i){s.e(i)}finally{s.f()}case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new ut(e.id,e.bounds),t.abrupt("return",(this._idToComponent.set(n.id,n),this._components.add([n]),{result:{}}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var n,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=this._idToComponent.get(e.id))&&(r=[],this._edges.forEachNeighbor((function(t){t.component===n&&r.push(t)}),n.bounds),this._edges.remove(r),this._components.remove([n]),this._idToComponent.delete(n.id)),t.abrupt("return",{result:{}});case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_setFetchEdgeLocations",value:function(t){var e=this._idToComponent.get(t.id);if(!(0,c.Wi)(e)&&t.uid===e.uid){for(var n=rt.extractComponentsEdgeLocationsLayout.createView(t.locations),r=new Array(n.count),i=(0,d.c)(),o=(0,d.c)(),u=0;u<n.count;u++){var a=(0,_.c)(),s=(0,_.g)(a);n.position0.getVec(u,i),n.position1.getVec(u,o),(0,l.C)(s,s,i,.5),(0,l.C)(s,s,o,.5),(0,l.a)(s,s,t.origin),a[3]=(0,l.i)(s,i);var h=new at(e,u,a);r[u]=h}this._edges.add(r);var f=t.objectIds,v=t.origin;e.info={locations:n,objectIds:f,origin:v}}}},{key:"_addCandidates",value:function(t,e,n){var r=e.component.info,i=r.locations,o=r.origin,u=r.objectIds,a=i.position0.getVec(e.index,this._tmpP1),s=i.position1.getVec(e.index,this._tmpP2);(0,l.a)(a,a,o),(0,l.a)(s,s,o);var c=u[i.componentIndex.get(e.index)];this._addEdgeCandidate(t,c,a,s,n),this._addVertexCandidate(t,c,a,n),this._addVertexCandidate(t,c,s,n)}},{key:"_addEdgeCandidate",value:function(t,e,n,r,i){if(t.types&m.r.EDGE){var o=(0,_.g)(t.bounds),u=(0,v.zk)(n,r,this._tmpLineSegment),a=(0,v.nF)(u,o,this._tmpP3);if(!(0,_.m)(t.bounds,a))return null;i.push({type:"edge",objectId:e,target:(0,d.a)(a),distance:(0,l.i)(o,a),start:(0,d.a)(n),end:(0,d.a)(r)})}}},{key:"_addVertexCandidate",value:function(t,e,n,r){if(t.types&m.r.VERTEX){var i=(0,_.g)(t.bounds);if(!(0,_.m)(t.bounds,n))return null;r.push({type:"vertex",objectId:e,target:(0,d.a)(n),distance:(0,l.i)(i,n)})}}}]),t}();function ot(){return new it}it=(0,s._)([(0,f.j)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],it);var ut=(0,a.Z)((function t(e,n){(0,u.Z)(this,t),this.id=e,this.bounds=n,this.info=null,this.uid=++t.uid}));ut.uid=0;var at=(0,a.Z)((function t(e,n,r){(0,u.Z)(this,t),this.component=e,this.index=n,this.bounds=r}))}}]);
//# sourceMappingURL=1427.78acb485.chunk.js.map